<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo 1: O Percurso do PDDE</title>
    <style>
        :root {
            --bg-color: #f0f8ff;
            --text-color: #333;
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --accent-color: #28a745;
            --border-color: #dee2e6;
            --card-bg: #ffffff;
        }

        body {
            font-family: sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            font-size: 16px;
            transition: background-color 0.3s, color 0.3s;
        }

        .high-contrast {
            --bg-color: #000000;
            --text-color: #ffffff;
            --primary-color: #ffff00;
            --secondary-color: #cccccc;
            --accent-color: #00ff00;
            --border-color: #ffffff;
            --card-bg: #222222;
        }

        .container {
            max-width: 900px;
            margin: auto;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        h1, h2 {
            color: var(--primary-color);
            text-align: center;
        }

        .accessibility-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .accessibility-controls button {
            padding: 10px 15px;
            font-size: 1em;
            cursor: pointer;
            border: 1px solid var(--primary-color);
            background-color: var(--primary-color);
            color: var(--card-bg);
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .accessibility-controls button:hover {
             opacity: 0.8;
        }

        #game-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .step {
            padding: 20px 10px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            background-color: var(--secondary-color);
            color: white;
            transition: background-color 0.3s;
        }

        .step.active {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            transform: scale(1.05);
        }
        
        .step.completed {
            background-color: #17a2b8;
            border-color: #17a2b8;
        }

        #question-area {
            margin-top: 25px;
            padding: 20px;
            border: 1px dashed var(--primary-color);
            border-radius: 8px;
            background-color: var(--bg-color);
        }
        
        #question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .options button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 1em;
            text-align: left;
            cursor: pointer;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
            border-radius: 5px;
        }

        .options button:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        #feedback {
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
        }

        #next-button {
            display: none;
            margin: 20px auto 0;
            padding: 12px 25px;
            font-size: 1.1em;
            cursor: pointer;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
        }

        #game-over {
            text-align: center;
            font-size: 1.5em;
            color: var(--accent-color);
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Jogo 1: O Percurso do PDDE</h1>
        <div class="accessibility-controls">
            <button id="increase-font">Aumentar Fonte</button>
            <button id="decrease-font">Diminuir Fonte</button>
            <button id="toggle-contrast">Alto Contraste</button>
        </div>

        <div id="game-board">
            <div class="step" data-step="0">1. Criação da UEx</div>
            <div class="step" data-step="1">2. Adesão</div>
            <div class="step" data-step="2">3. Planejamento</div>
            <div class="step" data-step="3">4. Execução</div>
            <div class="step" data-step="4">5. Prestação de Contas</div>
        </div>

        <div id="question-area">
            <h2 id="question-title">Desafio da Etapa</h2>
            <p id="question-text"></p>
            <div class="options" id="options-container"></div>
            <p id="feedback"></p>
            <button id="next-button">Próxima Etapa</button>
            <p id="game-over"></p>
        </div>
    </div>

    <script>
        const questions = [
            {
                step: "Criação da UEx",
                question: "Qual é o primeiro passo para criar uma Unidade Executora Própria (UEx)?",
                options: [
                    "Registrar o CNPJ na Receita Federal.",
                    "Convocar uma Assembleia Geral com a comunidade escolar.",
                    "Abrir uma conta bancária em nome da escola.",
                    "Definir o presidente da UEx."
                ],
                correct: 1,
                feedback: "Correto! O primeiro passo é a motivação e convocação de uma Assembleia Geral para discutir e aprovar o Estatuto. (Caderno 1, p. 16-17)"
            },
            {
                step: "Adesão",
                question: "A adesão e a atualização cadastral ao PDDE devem ser feitas em qual sistema?",
                options: [
                    "No site da prefeitura.",
                    "Diretamente no banco.",
                    "No sistema PDDEWeb.",
                    "Enviando um e-mail para o FNDE."
                ],
                correct: 2,
                feedback: "Exato! A adesão é feita pelo sistema PDDEWeb, disponível no site do FNDE. (Caderno 1, p. 29)"
            },
            {
                step: "Planejamento",
                question: "Quem deve participar da definição de prioridades para o uso dos recursos do PDDE, visando uma gestão democrática?",
                options: [
                    "Apenas o diretor e o tesoureiro da UEx.",
                    "Apenas os professores.",
                    "Toda a comunidade escolar (conselhos, pais, alunos, servidores, etc.).",
                    "A Secretaria de Educação."
                ],
                correct: 2,
                feedback: "Correto! A gestão democrática prevê que toda a comunidade escolar participe da decisão coletiva das prioridades. (Caderno 1, p. 34)"
            },
            {
                step: "Execução",
                question: "A compra de computadores e móveis para a escola deve ser feita com qual tipo de recurso do PDDE?",
                options: [
                    "Recurso de Custeio.",
                    "Recurso de Capital.",
                    "Qualquer um dos dois.",
                    "Recurso de Manutenção."
                ],
                correct: 1,
                feedback: "Isso mesmo! Materiais permanentes como equipamentos e mobiliário são adquiridos com recursos de CAPITAL. (Caderno 1, p. 41)"
            },
            {
                step: "Prestação de Contas",
                question: "Por quanto tempo os documentos da prestação de contas (notas fiscais, orçamentos, atas) devem ser arquivados na escola?",
                options: [
                    "Por 1 ano.",
                    "Por 2 anos.",
                    "Por, pelo menos, 5 anos.",
                    "Até o recebimento do próximo recurso."
                ],
                correct: 2,
                feedback: "Perfeito! A documentação deve ser arquivada por, no mínimo, 5 anos, à disposição dos órgãos de controle. (Caderno 1, p. 49)"
            }
        ];

        let currentQuestionIndex = 0;
        let fontSize = 16;

        const body = document.body;
        const gameBoard = document.getElementById('game-board');
        const steps = document.querySelectorAll('.step');
        const questionArea = document.getElementById('question-area');
        const questionTitle = document.getElementById('question-title');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const nextButton = document.getElementById('next-button');
        const gameOver = document.getElementById('game-over');
        
        document.getElementById('increase-font').addEventListener('click', () => {
            fontSize += 2;
            body.style.fontSize = `${fontSize}px`;
        });

        document.getElementById('decrease-font').addEventListener('click', () => {
            fontSize = Math.max(12, fontSize - 2);
            body.style.fontSize = `${fontSize}px`;
        });

        document.getElementById('toggle-contrast').addEventListener('click', () => {
            body.classList.toggle('high-contrast');
        });
        
        nextButton.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showGameOver();
            }
        });

        function loadQuestion() {
            feedback.textContent = '';
            nextButton.style.display = 'none';
            optionsContainer.innerHTML = '';
            
            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index < currentQuestionIndex) {
                    step.classList.add('completed');
                } else if (index === currentQuestionIndex) {
                    step.classList.add('active');
                }
            });

            const currentQuestion = questions[currentQuestionIndex];
            questionTitle.textContent = `Desafio: ${currentQuestion.step}`;
            questionText.textContent = currentQuestion.question;

            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.onclick = () => selectAnswer(index, currentQuestion.correct, currentQuestion.feedback);
                optionsContainer.appendChild(button);
            });
        }
        
        function selectAnswer(selectedIndex, correctIndex, feedbackText) {
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
            });

            if (selectedIndex === correctIndex) {
                feedback.style.color = 'var(--accent-color)';
                feedback.textContent = feedbackText;
                nextButton.style.display = 'block';
            } else {
                feedback.style.color = '#dc3545';
                feedback.textContent = 'Resposta incorreta. Tente lembrar o que diz o caderno e avance para a próxima etapa para continuar aprendendo!';
                 nextButton.style.display = 'block';
            }
        }
        
        function showGameOver() {
            questionArea.style.display = 'none';
            gameBoard.style.display = 'none';
            gameOver.innerHTML = '<h2>Parabéns!</h2><p>Você completou o Percurso do PDDE e revisou as etapas mais importantes do programa!</p>';
        }

        loadQuestion();
    </script>

</body>
</html>
